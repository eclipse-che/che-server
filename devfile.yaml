schemaVersion: 2.1.0
metadata:
  name: che-server-in-che
components:
  - container:
      image: quay.io/devfile/universal-developer-image:ubi8-latest
      memoryLimit: 8Gi
      mountSources: true
      volumeMounts:
        - name: m2
          path: /home/user/.m2
    name: tools
  - name: m2
    volume: {}
commands:
  - exec:
      commandLine: mvn clean install -DskipTests
      component: maven
      group:
        isDefault: true
        kind: build
      workingDir: ${PROJECT_SOURCE}
    id: mvn-build
